<div class="signin-container" style="display: flex; flex-direction: column; min-height: 100vh;">

  <!-- Main content: Image + Form side-by-side -->
  <div class="main-content" style="display: flex; flex: 1;">
    
    <!-- Left Side - Image -->
    <div class="image-section" style="flex: 1; display: flex; align-items: center; justify-content: center;">
      <img 
        src="https://moncredit.biat.com.tn/wp-content/uploads/logo-biat-2-e1603188177736.png"
        alt="BIAT Logo" 
        class="hero-image"
        style="width: 250px; height: auto; object-fit: contain; object-position: center; filter: brightness(1.1) contrast(1.2);"
      />
    </div>

    <!-- Right Side - Sign In Form -->
    <div class="form-section" style="flex: 1; display: flex; align-items: center; justify-content: center; padding: 5rem;">
      <div class="form-container" style="width: 100%; max-width: 420px; padding: 2rem;">
        <div class="header" style="text-align: center; margin-bottom: 2.5rem;">
          <h1 style="font-size: 2.25rem; font-weight: 700; color: #1a1a1a; margin: 0 0 0.5rem 0; letter-spacing: -0.025em;">Welcome Back</h1>
          <p style="color: #666666; font-size: 1rem; margin: 0; font-weight: 400;">Sign in to your account to continue</p>
        </div>

        <!-- Global error message if login fails -->
        <div *ngIf="errorMessage" class="error-message global-error" style="color: #dc3545; font-size: 0.75rem; margin-top: 0.25rem; font-weight: 400;">
          {{ errorMessage }}
        </div>

        <form class="signin-form" (ngSubmit)="onSignIn()" #signinForm="ngForm" style="margin-bottom: 2rem;">
          <!-- Email Input -->
          <div class="form-group" style="margin-bottom: 1.5rem;">
            <label for="email" style="display: block; font-weight: 500; color: #333333; margin-bottom: 0.5rem; font-size: 0.875rem;">Email Address</label>
            <input
              type="email"
              id="email"
              name="email"
              [(ngModel)]="email"
              #emailInput="ngModel"
              required
              pattern="^[a-zA-Z0-9._%+,\-]+@biat\.com\.tn$"
              class="form-input"
              [class.error]="emailInput.invalid && emailInput.touched"
              placeholder="Enter your BIAT email"
              style="width: 100%; padding: 0.75rem 1rem; border: 2px solid #e5e5e5; border-radius: 8px; font-size: 1rem; transition: all 0.2s ease; background: #ffffff; box-sizing: border-box;"
            />
            <div *ngIf="emailInput.invalid && emailInput.touched" class="error-message" style="color: #dc3545; font-size: 0.75rem; margin-top: 0.25rem; font-weight: 400;">
              <span *ngIf="emailInput.errors?.['required']">Email is required</span>
              <span *ngIf="emailInput.errors?.['pattern']">Must be in format name&#64;biat.com.tn</span>
            </div>
          </div>

          <!-- Password Input -->
          <div class="form-group" style="margin-bottom: 1.5rem;">
            <label for="password" style="display: block; font-weight: 500; color: #333333; margin-bottom: 0.5rem; font-size: 0.875rem;">Password</label>
            <input
              type="password"
              id="password"
              name="password"
              [(ngModel)]="password"
              #passwordInput="ngModel"
              required
              minlength="6"
              class="form-input"
              [class.error]="passwordInput.invalid && passwordInput.touched"
              placeholder="Enter your password"
              style="width: 100%; padding: 0.75rem 1rem; border: 2px solid #e5e5e5; border-radius: 8px; font-size: 1rem; transition: all 0.2s ease; background: #ffffff; box-sizing: border-box;"
            />
            <div *ngIf="passwordInput.invalid && passwordInput.touched" class="error-message" style="color: #dc3545; font-size: 0.75rem; margin-top: 0.25rem; font-weight: 400;">
              <span *ngIf="passwordInput.errors?.['required']">Password is required</span>
              <span *ngIf="passwordInput.errors?.['minlength']">Password must be at least 6 characters</span>
            </div>
          </div>

          <!-- Sign In Button -->
          <button
            type="submit"
            class="signin-button"
            [disabled]="signinForm.invalid || isLoading"
            [class.loading]="isLoading"
            style="width: 100%; background: #FF6B35; color: white; border: none; padding: 0.875rem 1.5rem; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.2s ease; margin-top: 1rem;"
          >
            <span *ngIf="!isLoading">Sign In</span>
            <span *ngIf="isLoading" class="loading-spinner" style="display: flex; align-items: center; justify-content: center;">Signing In...</span>
          </button>
        </form>
      </div>
    </div>

  </div> <!-- end main-content -->

  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-4" style="width: 100%;">
    <div class="container">
      <div class="row align-items-center">

        <div class="col-auto d-flex align-items-center me-4">
          <img src="assets/img/image001.jpg" class="logo me-3" alt="BIAT IT Logo" style="max-height: 50px; margin-right: 100px;">
          <div>
            <p class="mb-0">© 2025 BIAT-IT. Tous droits réservés.</p>
            <p class="mb-0">En cas de problème merci de nous contacter.</p>
          </div>
        </div>

        <div class="col-auto ms-auto"  style="margin-left: 90px;">
          <p class="mb-0">
            <a href="#" class="text-white">Politique de confidentialité</a> |
            <a href="#" class="text-white">Conditions d'utilisation</a>
          </p>
        </div>


      </div>
    </div>
  </footer>

</div>
